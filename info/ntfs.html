<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="Linux NTFS Project" />
    <meta name="keywords" content="Linux NTFS FAQ HOWTO" />
    <link rel="stylesheet" type="text/css" href="style/info.css" />
    <link rel="icon" href="../style/ntfsicon.png" type="image/png" />
    <title>NTFS FAQ (en)</title>
  </head>
  <body class="ntfsdoc">
  <a name="top"></a>
    <h2>NTFS FAQ (Frequently Asked Questions)</h2>

    <p>
    <a href="ntfs.html"><img alt="English" src="style/uk.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-it.html"><img alt="Italian" src="style/italy.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-ja.html"><img alt="Japanese" src="style/japan.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-vi.html"><img alt="Vietnamese" src="style/vietnam.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-de.html"><img alt="German" src="style/germany.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-zh.html"><img alt="Simplified Chinese" src="style/china.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-fr.html"><img alt="French" src="style/france.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-es.html"><img alt="Spanish" src="style/spain.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-pt_BR.html"><img alt="Brazilian" src="style/brazil.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-zh_TW.html"><img alt="Traditional Chinese" src="style/taiwan.png" border="0" width="30" height="20" /></a>
    <a href="ntfs-ru.html"><img alt="Russian" src="style/russia.png" border="0" width="30" height="20" /></a>
    </p>

    <p>
    This FAQ is part of the
    <a href="../">Linux NTFS Project</a>.<br />
    The latest version can be found online at<br />
    <a href="ntfs.html">ntfs.html</a><br />
    </p>

    <p>
    If you have an NTFS question that isn't answered in this FAQ, or you have
    comments about the FAQ, please email <b>linux-ntfs-dev@sourceforge.net</b>
    </p>

    <h2>Contents</h2>

    <h3>Key</h3>
    <p style="margin-left: 2em; margin-bottom: 0px;">
    <img src="style/blue.png" alt="**" width="16" height="16" />&nbsp;-&nbsp;Most frequently asked questions<br />
    <img src="style/green.png" alt="!!" width="16" height="16" />&nbsp;-&nbsp;Other interesting bits<br />
    <img src="style/red.png" alt="NB" width="16" height="16" />&nbsp;-&nbsp;Note carefully
    </p>
    <div style="background-color: #DDD; color: #000; border: 1px solid black;
    margin-left: 2em; max-width: 250px;">&nbsp;<b>Commands</b> or output</div>

    <h3>1. <a class="heading" href="ntfs.html#1.0">General NTFS Questions</a></h3>
    <table summary="" border="0" cellspacing="0">
    <tbody><tr>
      <td width="16">&nbsp;</td>
      <td><a href="ntfs.html#1.1">1.1 What is NTFS?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#1.2">1.2 Is NTFS better than FAT/FAT32?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#1.3">1.3 Do I have to use NTFS? (Or upgrade?)</a></td>
    </tr>
    <tr>
      <td><img src="style/green.png" alt="!!" width="16" height="16" /></td>
      <td><a href="ntfs.html#1.4">1.4 Is NTFS the same in every version of Windows?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#1.5">1.5 What are NTFS's limits?</a></td>
    </tr>
    </tbody></table>

    <h3>2. <a class="heading" href="ntfs.html#2.0">NTFS Volumes</a></h3>
    <table summary="" border="0" cellspacing="0">
    <tbody><tr>
      <td width="16">&nbsp;</td>
      <td><a href="ntfs.html#2.1">2.1 How do I read an NTFS Volume from Windows 95/98/ME or DOS?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#2.2">2.2 How do I convert a FAT Volume to a NTFS Volume?</a></td>
    </tr>
    <tr>
      <td><img src="style/green.png" alt="!!" width="16" height="16" /></td>
      <td><a href="ntfs.html#2.3">2.3 How do I convert an NTFS Volume to a FAT Volume?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#2.4">2.4 How do I delete an NTFS Volume?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#2.5">2.5 How do I defragment an NTFS Volume?</a></td>
    </tr>
    <tr>
      <td><img src="style/blue.png" alt="**" width="16" height="16" /></td>
      <td><a href="ntfs.html#2.6">2.6 How do I resize an NTFS Volume?</a></td>
    </tr>
    </tbody></table>

    <h3>3. <a class="heading" href="ntfs.html#3.0">Linux and NTFS</a></h3>
    <table summary="" border="0" cellspacing="0">
    <tbody><tr>
      <td><img src="style/green.png" alt="!!" width="16" height="16" /></td>
      <td><a href="ntfs.html#3.1">3.1 Which versions of NTFS can Linux read?</a></td>
    </tr>
    <tr>
      <td><img src="style/blue.png" alt="**" width="16" height="16" /></td>
      <td><a href="ntfs.html#3.2">3.2 Can the Driver write to an NTFS volume, too?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#3.3">3.3 What features of NTFS does Linux support?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#3.4">3.4 What should I do if something goes wrong?</a></td>
    </tr>
    <tr>
      <td><img src="style/blue.png" alt="**" width="16" height="16" /></td>
      <td><a href="ntfs.html#3.5">3.5 How do I add NTFS support to Linux?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#3.6">3.6 Which version is best?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#3.7">3.7 What other tools are there?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#3.8">3.8 How was the Linux NTFS Driver written?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#3.9">3.9 Who do we thank?</a></td>
    </tr>
    </tbody></table>

    <h3>4. <a class="heading" href="ntfs.html#4.0">Mounting NTFS Volumes</a></h3>
    <table summary="" border="0" cellspacing="0">
    <tbody><tr>
      <td width="16">&nbsp;</td>
      <td><a href="ntfs.html#4.1">4.1 Can I mount an NTFS Volume?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#4.2">4.2 How safe is the NTFS Driver?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#4.3">4.3 Which partition should I use?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#4.4">4.4 Which version of the NTFS Driver do I have?</a></td>
    </tr>
    <tr>
      <td><img src="style/green.png" alt="!!" width="16" height="16" /></td>
      <td><a href="ntfs.html#4.5">4.5 How do I mount an NTFS Volume?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#4.6">4.6 Common mount options.</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#4.7">4.7 Mount options for the Original Driver.</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#4.8">4.8 Mount options for the New Driver.</a></td>
    </tr>
    <tr>
      <td><img src="style/blue.png" alt="**" width="16" height="16" /></td>
      <td><a href="ntfs.html#4.9">4.9 How do I change the permissions of a mounted NTFS Volume?</a></td>
    </tr>
    <tr>
      <td><img src="style/green.png" alt="!!" width="16" height="16" /></td>
      <td><a href="ntfs.html#4.10">4.10 How do I mount an NTFS Volume automatically?</a></td>
    </tr>
    </tbody></table>

    <h3>5. <a class="heading" href="ntfs.html#5.0">Booting Operating Systems on NTFS</a></h3>
    <table summary="" border="0" cellspacing="0">
    <tbody><tr>
      <td width="16">&nbsp;</td>
      <td><a href="ntfs.html#5.1">5.1 Can I boot Windows on an NTFS volume?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#5.2">5.2 How do I use lilo?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#5.3">5.3 How do I use grub?</a></td>
    </tr>
    </tbody></table>

    <h3>6. <a class="heading" href="ntfs.html#6.0">Linux Distributions</a></h3>
    <table summary="" border="0" cellspacing="0">
    <tbody><tr>
      <td width="16">&nbsp;</td>
      <td><a href="ntfs.html#6.1">6.1 Which distributions support NTFS out of the box?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#6.2">6.2 Why don't RedHat support NTFS?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#6.3">6.3 Why does RedHat Linux lock up when accessing an NTFS Volume?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#6.4">6.4 Do any distributions install onto NTFS?</a></td>
    </tr>
    </tbody></table>

    <h3>7. <a class="heading" href="ntfs.html#7.0">The New Linux NTFS Driver</a></h3>
    <table summary="" border="0" cellspacing="0">
    <tbody><tr>
      <td width="16">&nbsp;</td>
      <td><a href="ntfs.html#7.1">7.1 What is the new NTFS Driver?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#7.2">7.2 Do I have to use it?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#7.3">7.3 How do I use the new Driver?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#7.4">7.4 What is a patch?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#7.5">7.5 What if I still don't understand?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#7.6">7.6 When will the new code be in the Linux Kernel?</a></td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td><a href="ntfs.html#7.7">7.7 Can't we write a wrapper for Windows' driver?</a></td>
    </tr>
    </tbody></table>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <hr /><!-- ............................................................. -->

    <a name="1.0"></a>
    <h2>1. General NTFS Questions</h2>

    <a name="1.1"></a>
    <h3>1.1 What is NTFS?</h3>

    <p>
    NTFS is an abbreviation for New Technology Filesystem.  <q>NT</q> because it
    was originally used in Windows NT and a filesystem is just how the computer
    stores files on disk.  Different operating system, stores files in different
    ways.
    </p>

    <p>
    NTFS is used by Windows NT, 2000, XP and Windows Server 2003.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="1.2"></a>
    <h3>1.2 Is NTFS better than FAT/FAT32?</h3>

    <p>
    In brief, yes.  It's far more robust, it supports Unicode filenames, proper
    security, compression and encryption.  Its main fault is that it can only be
    read from Windows NT, 2000 or XP, i.e. you can't use a DOS boot disk and
    then read your data.
    </p>

    <p>
    As always there are exceptions to this rule.  Linux has had a driver for
    NTFS since December 1997.  Also there's a program to give DOS NTFS support
    (see <a href="ntfs.html#2.1">Section 2.1</a> for more details).
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="1.3"></a>
    <h3>1.3 Do I have to use NTFS? (Or upgrade?)</h3>

    <p>
    No, you don't have to, though for most people it is a good idea.  You
    probably won't even notice the difference.  The only catch, is that you
    cannot convert back to FAT (see <a href="ntfs.html#2.3">Section 2.3</a> for more
    details).
    </p>

    <p>
    <img src="style/red.png" alt="NB" width="16" height="16" />
    You can install Windows NT on a FAT16 filesystem and Windows 2000 or XP on
    a FAT32 filesystem.  Then you can upgrade to NTFS later.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="1.4"></a>
    <h3>1.4 Is NTFS the same in every version of Windows?</h3>

    <p>
    No.  They will look similar, but newer versions have extra features.  For
    example, Windows 2000 has quotas.
    </p>

    <table class="highlight" summary="NTFS/Windows versions" border="1" cellspacing="0">
      <tbody><tr><th>NTFS</th><th>Windows Version</th></tr>
      <tr><td>v1.2</td><td>NT 3.51, NT 4</td></tr>
      <tr><td>v3.0</td><td>2000</td></tr>
      <tr><td>v3.1</td><td>XP, Server 2003</td></tr>
    </tbody></table>

    <p>
    Version 1.2 is sometimes known as 4.0.<br />
    Versions 3.0 and 3.1 are sometimes referred to as 5.0 and 5.1.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="1.5"></a>
    <h3>1.5 What are NTFS's limits?</h3>

    <p>
    BIG.  NTFS supports files up to 2<sup>63</sup> bytes in size.  NTFS Volumes
    can be up to 2<sup>63</sup> clusters and each cluster can be up to 64KiB
    long.  This gives NTFS an upper limit of approximately 500 trillion
    gigabytes.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <hr /><!-- ............................................................. -->

    <a name="2.0"></a>
    <h2>2. NTFS Volumes</h2>

    <a name="2.1"></a>
    <h3>2.1 How do I read an NTFS Volume from Windows 95/98/ME or DOS?</h3>

    <p>
    Unfortunately, you can't.  These versions of Windows can only understand
    FAT.  NTFS can only be read by Windows NT, 2000 and XP.
    </p>

    <p>
    However, with a little work, you can use a couple of utilities from
    <a href="http://technet.microsoft.com/en-us/sysinternals" target="_blank">SysInternals</a>
    "NTFS for Windows 98" and "NTFSDOS" allow you to read NTFS from Windows 95,
    98 and DOS.  If you are prepared to pay, they even have versions that will
    write to NTFS (N.B. It is very expensive).
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="2.2"></a>
    <h3>2.2 How do I convert a FAT Volume to a NTFS Volume?</h3>

    <p>
    Open a command window and type (replacing <q>x:</q> with the correct volume):
    </p>

    <pre class="command">    <b>convert x: /fs:ntfs</b>
    </pre>

    <p>
    If the volume is in use, the conversion will happen when you next reboot.
    </p>

    <p>
    <img src="style/red.png" alt="NB" width="16" height="16" />
    The command is not easily reversed.  See the next FAQ.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="2.3"></a>
    <h3>2.3 How do I convert an NTFS Volume to a FAT Volume?</h3>

    <p>
    The simple answer is, "You can't".  There is an exception if you have money.
    Partition Magic, available from
    <a href="http://norton.com" target="_blank">norton.com</a>
    can convert between several filesystems, including NTFS and FAT.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="2.4"></a>
    <h3>2.4 How do I delete an NTFS Volume?</h3>

    <p>
    This depends on which Operating System you are using.
    </p>

    <p>
    DOS, Windows 95/98/ME: fdisk.  Use a boot disk, or ask Windows to go to DOS
    mode.  Then run fdisk.  If you have more than one disk, first select that.
    Then you want to delete a non-DOS partition.  Be very careful, your changes
    will be committed immediately.
    </p>

    <p>
    Windows NT: Computer management.
    </p>

    <p>
    Windows 2000, XP and Server 2003: Logical Disk Manager.  Start at the Control
    Panel, select Administrative Tools, then Computer Management.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="2.5"></a>
    <h3>2.5 How do I defragment an NTFS Volume?</h3>

    <p>
    After a volume has been in use for a while, after many writes to the disk,
    the files can end up fragmented.  That is not in one consecutive place on
    the disk, but in many small pieces.  This causes a slowdown when trying to
    access these files.
    </p>

    <p>
    Windows 2000, XP and Server 2003 have a defragmenting program built in.
    For users of Windows NT, there is a free program to do the same job.
    <q>Diskeeper Lite</q> can be downloaded from:
    <a href="http://diskeeper.com/" target="_blank">http://diskeeper.com</a>
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="2.6"></a>
    <h3>2.6 How do I resize an NTFS Volume?</h3>

    <p>
    Use our stable and widely used program, <b>ntfsresize</b>.  Or even better,
    one of the easy-to-use partitioners (DiskDrake, QTParted, YAST, EVMS, Partman,
    GParted, etc) that integrated it.  For more information, please
    read the ntfsresize FAQ.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <hr /><!-- ............................................................. -->

    <a name="3.0"></a>
    <h2>3. Linux and NTFS</h2>

    <a name="3.1"></a>
    <h3>3.1 Which versions of NTFS can Linux read?</h3>

    <p>
    The Linux Driver can read all the <a href="ntfs.html#1.4">versions of NTFS</a>.  Each
    version is slightly different, but the driver only has to interpret the
    files and directories.  All the indexes that NTFS maintains can be safely
    ignored.
    </p>

    <p>
    When the driver becomes able to write to an NTFS Volume, then it may be that
    the abilities will vary according to the version of NTFS it is writing to.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="3.2"></a>
    <h3>3.2 Can the Driver write to an NTFS volume, too?</h3>

    <p>
    Not really, but if you only need to copy files from Linux to
    Windows on a dual-boot machine, see "<a href="ntfs.html#3.2workaround">How
    to write to NTFS</a>" below for a possible way to work around the
    lack of write support. For write support in Linux, read on.
    </p>

    <p>
    There are two drivers, currently.  The original driver, in 2.4 has some
    write code in it, but it is <b>extremely dangerous</b> to use it.  The
    possibility of destroying your filesystem is very high.
    </p>

    <p>
    The new driver, introduced in 2.5.11, has some write code, but it's very
    limited.  The driver can overwrite existing files, but it cannot change the
    length, add new or delete existing files.
    </p>

    <p>
    Adding write support will take a <b>long time</b>.  NTFS is built like a
    database.  Any changes you make, necessitate making changes in many places,
    for consistency.  Make a mistake and the filesystem will be damaged, make
    too many mistakes and the filesystem will be destroyed.   Also, the current
    developers are only working on NTFS as a hobby, during their free time.  If
    you'd like to help, please email me:
    <b>linux-ntfs-dev@sourceforge.net</b>
    </p>

    <a name="3.2workaround"></a>
    <p>
    <strong>How to write to NTFS.</strong> If you are using a
    dual-boot machine and just need NTFS write support to transfer
    files from Linux to Windows, you can instead use a Windows driver
    for ext2/ext3 and, while running Windows, read the files from the
    Linux partition instead. This way, using two read-only drivers,
    you can still copy files from one file system type to the other.
    </p>

    <p>
    We know about these open source Windows drivers for ext2
    and ext3 Linux filesystems, as of June 4th, 2003:
    </p>
    <ul type="square">
    <li><strong>explore2fs</strong>
      <ul>
      <li>Home page: http://uranus.chrysocome.net/linux/explore2fs.htm</li>
      <li>For Windows NT, Windows 2000 and Windows XP.</li>
      </ul>
    </li>
    <li><strong>ext2fsd</strong>
      <ul>
      <li>Home page: http://ext2fsd.sourceforge.net</li>
      <li>For Windows NT, Windows 2000 and Windows XP.</li>
      </ul>
    </li>
    <li><strong>winext2fsd</strong>
      <ul>
      <li>Home page: http://sourceforge.net/projects/winext2fsd</li>
      </ul>
    </li>
    <li><strong>ext2forxp</strong>
      <ul>
      <li>Home page: http://sourceforge.net/projects/ext2forxp
      </li><li>In early stages, not ready for use yet (June 4th, 2003).</li>
      </ul>
    </li>
    <li><strong>vmware</strong>
      <ul>
      <li>Home page: http://www.vmware.com
      </li><li>VMWare allows you to run entire operating systems with other operating systems.</li>
      <li>So, you could run Windows inside Linux and get it to write to NTFS partitions natively.</li>
      <li>As safe as the Windows you're running, but it is expensive.</li>
      </ul>
    </li>
    </ul>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="3.3"></a>
    <h3>3.3 What features of NTFS does Linux support?</h3>

    <p>
    NTFS supports a wide range of features, but few are honoured by the Linux
    NTFS Driver.
    </p>

    <p>
    The Linux NTFS Driver supports: Unicode filenames (converted into a local
    codepage, or utf8); compressed files; sparse files.
    </p>

    <p>
    However, the driver cannot read encrypted files, it ignores Windows'
    security information and ignores quotas set by Windows.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="3.4"></a>
    <h3>3.4 What should I do if something goes wrong?</h3>

    <p>
    The driver is <a href="ntfs.html#4.2">pretty safe</a> read-only, but it's impossible
    to test every eventuality.  If something goes wrong, please help us to find
    the problem and fix it.
    </p>

    <p>
    Please email the development team at
    linux-ntfs-dev@lists.sourceforge.net
    and tell us which <a href="ntfs.html#4.4">version of the driver</a> you are using,
    which Linux version (uname -a) and which version of NTFS (Win NT, 2K or XP).
    </p>

    <p>
    Additionally, if there are any logs (/var/log/messages) that you think may
    be useful, please include them.
    </p>

    <p>
    Thanks.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="3.5"></a>
    <h3>3.5 How do I add NTFS support to Linux?</h3>

    <p>
    Most users won't have to compile anything to enable NTFS support.  Almost
    every Linux distribution (with the notable exception of RedHat) comes with
    NTFS support out of the box.
    </p>

    <p>
    If you are using RedHat 9 (Shrike), 8.0 (Psyche) or 7.3 (Valhalla), then you
    can simply <a href="../rpm/index.html">install an rpm</a> for NTFS support.  The
    rpm comes with detailed instructions.
    </p>

    <p>
    If you have an older version of RedHat, or another distribution which
    doesn't include NTFS support, then you will have to compile the kernel
    yourself.  This isn't as difficult as it sounds.  Have a look at the
    <a href="compile.html">Compile Page</a> for more details.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="3.6"></a>
    <h3>3.6 Which version is best?</h3>

    <p>
    The new version of the driver is better.  It is better written, much faster,
    has fewer bugs and is SMP-safe.  The new driver is available in 2.5.11
    onwards and a
    <a href="../downloads.html">patch is available</a>
    to add the new driver to 2.4 kernels.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="3.7"></a>
    <h3>3.7 What other tools are there?</h3>

    <p>
    At the moment, there are only a few tools and they are aimed at developers.
    We keep a <a href="../status.html">status list</a> of
    all our tools.
    </p>

    <p>
    Naturally the priorities lie in getting NTFS write support coded.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="3.8"></a>
    <h3>3.8 How was the Linux NTFS Driver written?</h3>

    <p>
    Microsoft haven't released any documention about the internals of NTFS, so
    we had to reverse engineer the filesystem from scratch.  The method was
    roughly:
    </p>

    <ol>
      <li>Look at the volume with a hex editor</li>
      <li>Perform some operation, e.g. create a file</li>
      <li>Use the hex editor to look for changes</li>
      <li>Classify and document the changes</li>
      <li>Repeat steps 1-4 forever</li>
    </ol>

    <p>
    If this sounds like a lot of work, then you probably understand how hard the
    task has been.  We now understand pretty much everything about NTFS and we
    have documented it for the benefit of others:
    <a href="../ntfs/index.html">../ntfs/index.html</a>
    </p>

    <p>
    Actually writing the driver was far simpler than gathering the information.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="3.9"></a>
    <h3>3.9 Who do we thank?</h3>

    <p>
    First we have to thank Martin von Löwis.  He created the original NTFS
    driver back in 1995.  It was added to the Linux Kernel in December 1997
    (2.1.74).  He has been helped by the following kind souls:
    </p>

    <p class="quote">
    Albert&nbsp;Cahalan, Anton&nbsp;Altaparmakov, Damon&nbsp;Casale,
    David&nbsp;Dillard, Domagoj&nbsp;Pensa, Joseph&nbsp;Malicki,
    Matthew&nbsp;Fanto, Olof&nbsp;Wolgast, Rani&nbsp;Assaf,
    Régis&nbsp;Duchesne, Richard&nbsp;Russon, Steve&nbsp;Dodd,
    Werner&nbsp;Seiler.
    </p>

    <p>
    Next we have to thank Anton&nbsp;Altaparmakov, it was his enthusiasm which
    kept the project alive.  At a time when the project was effectively
    unmaintained, he took over and stabilised the code.  He went on to rewrite
    the driver from scratch in order to have a clean base to progress with write
    support.  He has been helped by:
    </p>

    <p class="quote">
    Pawel&nbsp;Kot, Richard&nbsp;Russon.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <hr /><!-- ............................................................. -->

    <a name="4.0"></a>
    <h2>4. Mounting NTFS Volumes</h2>

    <a name="4.1"></a>
    <h3>4.1 Can I mount an NTFS Volume?</h3>

    <p>
    Of course.  The Driver can read all versions of NTFS, but it is read-only.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.2"></a>
    <h3>4.2 How safe is the NTFS Driver?</h3>

    <p>
    When used read-only, both the Original and New Drivers are safe for general
    use.  They <b>will not</b> make any changes to your filesystem, so they
    cannot cause any damage.
    </p>

    <p>
    Additionally, the New Driver is SMP-safe.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.3"></a>
    <h3>4.3 Which partition should I use?</h3>

    <p>
    In Linux disks are named hda, hdb for the first two disk on the first IDE
    controller and hdc, hdd for the third and fourth disks.  SCSI disks are
    named sda, sdb, etc, in the order they are discovered.
    </p>

    <p>
    A simple way to look for NTFS Volumes is using:
    </p>

    <pre class="command">    <b>fdisk -l</b>
    </pre>

    <p>
    The output might look like:
    </p>

    <pre class="command">    Disk /dev/hda: 64 heads, 63 sectors, 4465 cylinders
    Units = cylinders of 4032 * 512 bytes

       Device Boot    Start       End    Blocks   Id  System
       /dev/hda1             1      2125   4283968+  07  NTFS/HPFS
       /dev/hda2          2126     19851  35735616   0f  Win95 Ext'd (LBA)
       /dev/hda5   *      2126      4209   4201312+  83  Linux
       /dev/hda6          4210      4465    516064+  82  Linux swap
    </pre>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.4"></a>
    <h3>4.4 Which version of the NTFS Driver do I have?</h3>

    <p>
    If your kernel version is 2.4.*, or 2.5.0 - 2.5.10, then you probably have
    the Original NTFS Driver.  If you have 2.5.11 or later, then you have got
    the New NTFS Driver.
    </p>

    <p>
    A better test is to look through the kernel logs for the NTFS log message.
    Try <b>either</b> of these commands (you may need to be root to read the logs).
    </p>

    <pre class="command">    <b>dmesg | grep -i ntfs</b>
    <b>grep -i ntfs /var/log/messages</b>
    </pre>

    <p>
    The Original Driver is version 1.1.*, whereas the New Driver is version 2.*.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.5"></a>
    <h3>4.5 How do I mount an NTFS Volume?</h3>

    <p>
    First of all, it might be an idea to check that your kernel understands
    NTFS.  The command below will give a list of all the filesystems that Linux
    understands.  If you see <q>ntfs</q>, then you are OK.  Also it might be a
    good idea to read the mount manual, <q>man 8 mount</q>.
    </p>

    <pre class="command">    <b>cat /proc/filesystems</b>
    </pre>

    <p>
    Next you need to create a place to mount the NTFS Volume.  Then you can
    mount it.
    </p>

    <pre class="command">    <b>mkdir /mnt/windows</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r</b>
    </pre>

    <p>
    <img src="style/red.png" alt="NB" width="16" height="16" />
    To alter the permissions of the mounted filesystem, see the <q>umask</q>
    option in <a href="ntfs.html#4.6">Section 4.6</a>.  If you would like to have the
    volume mounted automatically at boot time, see
    <a href="ntfs.html#4.10">Section 4.10</a>.
    </p>

    <p>
    When you have finished, you can unmount the partition with <b>either of</b>:
    </p>

    <pre class="command">    <b>umount /mnt/windows</b>
    <b>umount /dev/hda1</b>
    </pre>

    <p>
    <img src="style/red.png" alt="NB" width="16" height="16" />
    The command is called <q>umount</q> (only one 'n').
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.6"></a>
    <h3>4.6 Common mount options.</h3>

    <p>
    These mount options are common to both drivers.  It's recommended to also
    read the man page for mount.  The general form of mount is:
    </p>

    <pre class="command">    mount device directory [options]
    </pre>

    <p>
    Additional options of the for <q>-o option</q> can be given individually, or
    as one parameter separated with commas.  These two commands are equivalent:
    </p>

    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -o X -o Y -o Z</b>
    <b>mount /dev/hda1 /mnt/windows -o X,Y,Z</b>
    </pre>

    <dl>
      <dt>-t ntfs</dt>
      <dd>
        Tell mount the type of the filesystem it will mount.  This option isn't
        necessary, since mount knows how to identify most filesystem types.
      </dd>

      <dt>-r</dt>
      <dd>
        Mount the volume, read-only.  By default, mount will attempt to mount the
        volume read-write.  Unless forced, the driver will automatically mount the
        filesystem read-only.
      </dd>

      <dt>-o ro</dt>
      <dd>
        This is the same as <q>-r</q>.
      </dd>

      <dt>-o umask={VALUE}</dt>
      <dd>
        The default permissions given to a mounted NTFS Volume are rwx------
        (this is for security reasons).  The <b>umask</b> parameter controls the
        permissions of files and directories.  For more details and examples,
        see <a href="ntfs.html#4.9">Section 4.9</a>.
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o umask=0222</b>
    </pre>
      </dd>

      <dt>-o uid={USERID}</dt>
      <dd>
        By default all the files on a mounted NTFS Volume will be owned by root.
        If you supply a <b>uid</b> parameter you can set the owner of the files.
        The userid can be any name from /etc/passwd, or any number representing
        a user id.
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o uid=flatcap</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o uid=500</b>
    </pre>
      </dd>

      <dt>-o gid={GROUPID}</dt>
      <dd>
        By default all the files on a mounted NTFS Volume will have a group
        owner of root.  If you supply a <b>gid</b> parameter you can set the
        group of the files.  The groupid can be any name from /etc/group, or
        any number representing a group id.
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o gid=winusers</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o gid=520</b>
    </pre>
      </dd>

    </dl>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.7"></a>
    <h3>4.7 Mount options for the Original Driver.</h3>

    <p>
    To find out which driver you are using, see <a href="ntfs.html#4.4">Section 4.4</a>.
    This section discusses the options for the Original Driver only.  All the
    common mount options are discussed in <a href="ntfs.html#4.6">Section 4.6</a>.
    </p>

    <p>
    Several options take a <q>true</q> or <q>false</q> parameter.<br />
    You may replace <q>true</q> with <q>yes</q> or <q>1</q>.<br />
    You may replace <q>false</q> with <q>no</q> or <q>0</q>.
    </p>

    <dl>
      <dt>-o iocharset={NAME}</dt>
      <dd>
        <p>
        NTFS stores all file and directory names in Unicode which can represent
        any character from any language.  By default the Linux NTFS driver
        converts the names to ASCII which is OK for some people, but no good if
        your languages includes letters like å or é.
        </p>

        <p>
        NLS (Native Language Support) controls how characters are displayed.
        You can choose either <b>utf8</b> which, like Unicode, can represent all
        characters, or your own codepage, e.g. iso8859-1 (Western Europe),
        iso8859-2 (Central Europe), gb2312 (Simplified Chinese), iso8859-8
        (Hebrew).  Below are some example mount commands:
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o iocharset=utf8</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o iocharset=iso8859-2</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o iocharset=gb2312</b>
    </pre>
      </dd>

      <dt>utf8=true</dt>
      <dd>
        <p>
        If your kernel doesn't support utf8, then you can use this option to
        work with utf8 support from the NTFS Driver.  You should use
        <q>-o iocharset=utf8</q> wherever possible.
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o utf8=true</b>
    </pre>
      </dd>

      <dt>-o posix={BOOL}</dt>
      <dd>
        <p>
        Windows preserves the case of filenames, but it doesn't distinguish when
        you read.  Therefore you can create a file called <q>MyFileName</q> and
        then open it by asking for <q>mYfILEname</q>.
        </p>

        <p>
        By default Linux is case sensitive, <q>MyFile</q>, <q>MyFile</q> and
        <q>myfile</q> are all different files.  If you would like Linux to
        behave like Windows, for an NTFS volume, set the <b>posix</b>
        option to <q>true</q>.  Setting the option to <q>false</q> will make
        the driver behave like Linux (the default).
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o posix=true</b>
    </pre>
      </dd>

      <dt>-o show_sys_files={BOOL}</dt>
      <dd>
        <p>
        If this option is set to true, then the filesystem metadata will be
        visible.  If the aren't visible, they can still be explicitly listed by
        providing their name, e.g.  <q>ls -l \$MFT</q>.
        </p>

        <p>
        <img src="style/red.png" alt="NB" width="16" height="16" />
        Because of a limitation of glibc, <q>$MFT</q> may not appear in listings
        because it is inode number zero.
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o show_sys_files=true</b>
    </pre>
      </dd>

    </dl>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.8"></a>
    <h3>4.8 Mount options for the New Driver.</h3>

    <p>
    To find out which driver you are using, see <a href="ntfs.html#4.4">Section 4.4</a>.
    This section discusses the options for the New Driver only.  All the common
    mount options are discussed in <a href="ntfs.html#4.6">Section 4.6</a>.
    </p>

    <p>
    Several options take a <q>true</q> or <q>false</q> parameter.<br />
    You may replace <q>true</q> with <q>yes</q> or <q>1</q>.<br />
    You may replace <q>false</q> with <q>no</q> or <q>0</q>.
    </p>

    <dl>
      <dt>-o nls={NAME}</dt>
      <dd>
        <p>
        NTFS stores all file and directory names in Unicode which can represent
        any character from any language.  By default the Linux NTFS driver
        converts the names to ASCII which is OK for some people, but no good if
        your languages includes letters like å or é.
        </p>

        <p>
        NLS (Native Language Support) controls how characters are displayed.
        You can choose either <b>utf8</b> which, like Unicode, can represent all
        characters, or your own codepage, e.g. iso8859-1 (Western Europe),
        iso8859-2 (Central Europe), gb2312 (Simplified Chinese), iso8859-8
        (Hebrew).  Below are some example mount commands:
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o nls=utf8</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o nls=iso8859-2</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o nls=gb2312</b>
    </pre>
      </dd>

      <dt>-o fmask={VALUE}</dt>
      <dt>-o dmask={VALUE}</dt>
      <dd>
        <p>
        The <q>umask</q> parameter alters the permissions of both files and
        directories (see <a href="ntfs.html#4.6">Section 4.6</a> for a reminder).
        <q>fmask</q> works on files and <q>dmask</q> works on directories in
        the same way.  The effect of the options can be combined, too.  Here are
        some examples:
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o fmask=0222</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o dmask=0222</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o fmask=0077,dmask=0222</b>
    </pre>
      </dd>

      <dt>-o case_sensitive={BOOL}</dt>
      <dd>
        <p>
        Windows preserves the case of filenames, but it doesn't distinguish when
        you read.  Therefore you can create a file called <q>MyFileName</q> and
        then open it by asking for <q>mYfILEname</q>.
        </p>

        <p>
        By default Linux is case sensitive, <q>MyFile</q>, <q>MyFile</q> and
        <q>myfile</q> are all different files.  If you would like Linux to
        behave like Windows, for an NTFS volume, set the <b>case_sensitive</b>
        option to <q>false</q>.  Setting the option to <q>true</q> will make
        the driver behave like Linux (the default).
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o case_sensitive=true</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o case_sensitive=false</b>
    </pre>
      </dd>

      <dt>-o sloppy={BOOL}</dt>
      <dd>
        <p>
        By default, the driver will refuse to mount if any of the options are
        incorrect.  By adding the <b>sloppy</b> parameter the driver will simply
        ignore bad parameters.
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o sloppy=true</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o sloppy=false</b>
    </pre>
      </dd>

      <dt>-o errors={VALUE}</dt>
      <dd>
        <p>
        This option controls how the driver copes with problems.  The default is
        to try and <b>continue</b>.  Any corruption will be marked and worked
        around.  The alternative is to get the driver to try and <b>recover</b>.
        At present the only recovery the driver can do is to replace the boot
        sector with the backup.
        </p>
      </dd>

      <dd class="wide">
    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o errors=continue</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o errors=recover</b>
    </pre>
      </dd>

    </dl>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.9"></a>
    <h3>4.9 How do I change the permissions of a mounted NTFS Volume?</h3>

    <p>
    There are three options to control the permissions and ownership of files
    and directories.  They are: <q>umask</q>, <q>uid</q> and <q>gid</q>.  They
    are mentioned in <a href="ntfs.html#4.6">Common mount options</a>.
    </p>

    <p>
    Below are some examples of each option and how it affects the files.  We
    will use the same mount command each time and just show the options.
    </p>

    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r</b>
    </pre>

    <p>
    <q>umask</q> is a filter of permissions, so it works in the opposite way to
    chmod.  Full permissions are equivalent to 777 (rwxrwxrwx).  A umask of 0222
    (-w--w--w-) leaves 555 (r-xr-xr-x).
    </p>

    <p>
    The default umask is set to 0077, for security reasons.
    </p>

    <pre class="command">    <b>mount ... -o umask=0277</b>

    -r-x------ 1 root    root    28096 Aug 24 1996 chkdsk.exe
    </pre>

    <pre class="command">    <b>mount ... -o umask=0222</b>

    -r-xr-xr-x 1 root    root    28096 Aug 24 1996 chkdsk.exe
    </pre>

    <p>
    So far the files still have an owner and group of <q>root</q>.  Next we try
    the <q>uid</q> and <q>gid</q> options.
    </p>

    <pre class="command">    <b>mount ... -o uid=flatcap</b>

    -r-x------ 1 flatcap root    28096 Aug 24 1996 chkdsk.exe
    </pre>

    <pre class="command">    <b>mount ... -o gid=winuser</b>

    -r-x------ 1 root    winuser 28096 Aug 24 1996 chkdsk.exe
    </pre>

    <pre class="command">    <b>mount ... -o uid=flatcap,gid=winuser</b>

    -r-x------ 1 flatcap winuser 28096 Aug 24 1996 chkdsk.exe
    </pre>

    <p>
    Finally we combine a few options for precise control.  Below we allow the
    user <q>flatcap</q> full control, the group of users <q>winuser</q> has read
    permissions and other people have no access at all.
    </p>

    <pre class="command">    <b>mount ... -o umask=0027,uid=flatcap,gid=winuser</b>

    -rwxr-x--- 1 flatcap winuser 28096 Aug 24 1996 chkdsk.exe
    </pre>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="4.10"></a>
    <h3>4.10 How do I mount an NTFS Volumes automatically?</h3>

    <p>
    Once you are happy with your mount command, you can teach Linux how to mount
    the volume automatically by adding a line to <q>/etc/fstab</q>
    (<b>f</b>ile<b>s</b>ystem <b>tab</b>le).
    </p>

    <p>
    Below are some example mount commands and their equivalent fstab.<br />
    <img src="style/red.png" alt="NB" width="16" height="16" />
    Don't worry about the meaning of the <q>0&nbsp;0</q> on the end.
    </p>

    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r</b>

    /dev/hda1 /mnt/windows ntfs ro                                    0 0
    </pre>

    <p>
    Here we've transformed <q>-r</q> into the equivalent <q>-o ro</q>.
    </p>

    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o umask=0222</b>

    /dev/hda1 /mnt/windows ntfs ro,umask=0222                         0 0
    </pre>

    <pre class="command">    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o umask=0222,uid=flatcap,gid=winuser</b>

    /dev/hda1 /mnt/windows ntfs ro,umask=0222,uid=flatcap,gid=winuser 0 0
    </pre>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <hr /><!-- ............................................................. -->

    <a name="5.0"></a>
    <h2>5. Booting Operating Systems on NTFS</h2>

    <a name="5.1"></a>
    <h3>5.1 Can I boot Windows on an NTFS volume?</h3>

    <p>
    Yes, both grub and lilo can boot Windows from an NTFS Volume.  What actually
    happens, is that the Linux boot loader finds the NTFS boot loader and gives
    control to it.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="5.2"></a>
    <h3>5.2 How do I use lilo?</h3>

    <p>
    Add this entry to /etc/lilo.conf, then rerun lilo.
    </p>

    <pre class="command">    other = /dev/hda1
        table = /dev/hda
        label = Windows
    </pre>

    <p>
    The <q>other</q> points to the partition containing Windows and <q>table</q>
    points to the partition table of the disk.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="5.3"></a>
    <h3>5.3 How do I use grub?</h3>

    <p>
    Add this entry to /boot/grub/grub.conf
    </p>

    <pre class="command">    title Windows
        root (hd0,0)
        makeactive
        chainloader +1
    </pre>

    <p>
    According to the grub disk numbering, /dev/hda is hd0, hdb is hd1, etc.  The
    partitions are numbered from zero.  Therefore, hda1 is hd0,0, hdc4 is
    hd2,3.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <hr /><!-- ............................................................. -->

    <a name="6.0"></a>
    <h2>6. Linux Distributions</h2>

    <a name="6.1"></a>
    <h3>6.1 Which distributions support NTFS out of the box?</h3>

    <p>
    The Linux Distributions that are known to support NTFS are:
    <a href="http://www.mandrake.com/" target="_blank">Mandrake</a>,
    <a href="http://www.debian.org/" target="_blank">Debian</a>,
    <a href="http://www.suse.com/" target="_blank">SuSE</a>,
    <a href="http://www.gentoo.org/" target="_blank">Gentoo</a> and
    <a href="http://www.caldera.com/" target="_blank">Caldera</a>
    </p>

    <p>
    In fact, the pattern is, that if the name isn't RedHat, then they will
    support NTFS.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="6.2"></a>
    <h3>6.2 Why don't RedHat support NTFS?</h3>

    <p>
    I'd really like to know.  The rumours are that it's a legal worry.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="6.3"></a>
    <h3>6.3 Why does RedHat Linux lock up when accessing an NTFS Volume?</h3>

    <p>
    Check which kernel version you are using with the command <q>uname -a</q>.
    If the version is 2.4.9 then it is important for you to update your kernel.
    See the <a href="http://www.redhat.com/" target="_blank">RedHat Website</a>
    for more details.
    </p>

    <p>
    If you'd prefer, you could compile your own kernel.  See
    <a href="ntfs.html#3.5">How do I add NTFS support to Linux?</a> for more details.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="6.4"></a>
    <h3>6.4 Do any distributions install onto NTFS?</h3>

    <p>
    Not quite.  <a href="http://phatlinux.com/" target="_blank">Phat Linux</a>
    can install onto a FAT partition within Windows, then boot from the files
    inside Windows.  The New Driver nearly has enough support for them to
    perform this trick using NTFS.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <hr /><!-- ............................................................. -->

    <a name="7.0"></a>
    <h2>7. The New Linux NTFS Driver</h2>

    <a name="7.1"></a>
    <h3>7.1 What is the new NTFS Driver?</h3>

    <p>
    It is a complete rewrite of the NTFS driver.  The original driver was
    writen over a period of many years.  In the beginning we knew little about
    NTFS or Linux and the source code became hard to maintain.
    </p>

    <p>
    We created a new driver, with our new knowledge, which is much simpler,
    faster and easier to maintain.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="7.2"></a>
    <h3>7.2 Do I have to use it?</h3>

    <p>
    No.  There is already an NTFS driver in the current Linux kernel, so you
    don't need to use the new driver.  The original driver, though old, is
    reliable enough for everyday use.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="7.3"></a>
    <h3>7.3 How do I use the new Driver?</h3>

    <p>
    We release the
    <a href="../downloads.html">new driver as a patch</a> to the
    <a href="http://www.kernel.org/pub/linux/kernel/v2.4/">official Linux kernel source code</a>.
    </p>

    <p>
    <a href="../downloads.html">../downloads.html</a>
    <br />
    <a href="http://www.kernel.org/pub/linux/kernel/v2.4/" target="_blank">http://www.kernel.org/pub/linux/kernel/v2.4/</a>
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="7.4"></a>
    <h3>7.4 What is a patch?</h3>

    <p>
    A patch is a set of changes for a set of text files.  Since we are only
    altering the NTFS code, it is inefficient to release all the kernel code
    every time we make a small change.  We make our patches against official
    Linux kernel releases.
    </p>

    <p>
    Once you have unpacked the source, change directory into the source
    directory and use the command (replacing the path and patchname as necessary):
    </p>

    <pre class="command">    <b>patch -p1 &lt; path/to/patchname</b>
    </pre>

    <p>
    This will modify the source code.  There should be no rejects or failures.
    Next build the kernel as normal.  There are instructions for this elsewhere
    in this FAQ.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="7.5"></a>
    <h3>7.5 What if I still don't understand?</h3>

    <p>
    Sorry.  We try to help everyone we can, but we have a limited amount of time.
    There are a few sites that might help you understand the basics about Linux.
    Alternatively, find out if there is a Linux User Group near you.
    </p>

    <ul>
  <li>Just Linux - http://www.justlinux.com</li>
  <li>The Linux Documentation Project - http://tldp.org</li>
  <li>The Linux Kernel HOWTO - http://tldp.org/HOWTO/Kernel-HOWTO.html</li>
  <li>Linux User Groups - http://www.linux.org/groups/index.html</li>
    </ul>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="7.6"></a>
    <h3>7.6 When will the new code be in the Linux Kernel?</h3>

    <p>
    There are two kernels to consider.  The new code is already in the
    development Linux Kernel.  It was introduced in 2.5.11.
    </p>

    <p>
    The stable Linux Kernel, currently 2.4.20, still has the old driver.  We are
    happy with the state of the code, but we still have to convince the Kernel
    Gods that it's good.
    </p>

    <p>
    Until it is incorporated, we will make frequent releases in patch form.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <a name="7.7"></a>
    <h3>7.7 Can't we write a wrapper for Windows' driver?</h3>

    <p>
    It sounds like a great idea, to start with, but there are numerous problems.
    </p>

    <p>
    The largest technical problem is joining the Windows system DLL to the Linux
    VFS.  It could be done, but it wouldn't be pretty.  It would have to run as
    part of the kernel which would mean that if it went wrong it could crash the
    machine.  With no source, we might not be able to work around the problem.
    </p>

    <p>
    The next major problem is compatability.  Which version of the Windows
    system file would we use?  Picking one would limit its use, making the
    wrapper versatile for all of them would be a programming nightmare.
    </p>

    <p>
    And it gets worse.  The legal implications of distributing Windows systems
    files would cause problems.  Also the proprietary nature of the driver would
    mean that the other kernel coders would not investigate any problems if
    someone had used the NTFS wrapper.
    </p>

    <p>
    Anyway, there has been a brave man that done it. Jan Kratochvil's
    <a href="http://www.jankratochvil.net/project/captive/">Captive</a>
    is such Windows' driver wrapper. It is able to write NTFS files, but is
    known to have bugs and is much slower then Linux NTFS driver. Captive is
    based on <a href="http://www.reactos.com/">ReactOS</a> and uses
    LUFS driver. Probably if
    amount of work that was put into Captive development was spent on Linux
    NTFS driver, we'd have reliable and fully open source driver with write
    support.
    </p>

    <p><a href="ntfs.html#top">Back to the top</a></p>

    <table summary="" border="0" cellspacing="0" width="100%">
      <tbody><tr>
        <td class="copyright" width="99%">Copyright &copy; flatcap (Richard Russon)</td>
      </tr>
    </tbody></table>


<script type="text/javascript" src="../analytics.js"></script>
</body></html>
