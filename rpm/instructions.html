<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="description" content="Linux NTFS Project" />
    <meta name="keywords" content="Linux NTFS" />
    <link rel="stylesheet" href="style/home.css" type="text/css" />
    <link rel="icon" href="style/ntfsicon.png" type="image/png" />
    <title>NTFS RPMs</title>
  </head>
  <body>
    <table summary="" border="0" cellpadding="10" cellspacing="10" width="100%">
      <tbody><tr>
        <td colspan="2" class="block" valign="top">
          <table summary="" border="0" cellpadding="0" cellspacing="0" width="100%">
          <tbody><tr>
          <td align="left" width="90%"><h1>NTFS RPMs for Fedora &amp; RedHat</h1></td>
          <td width="50">
          <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
          <input name="cmd" value="_xclick" type="hidden" />
          <input name="business" value="paypal@flatcap.org" type="hidden" />
          <input name="item_name" value="Beer (in recognition of the NTFS RPM)" type="hidden" />
          <input name="image_url" value="http://flatcap.org/flatcap.png" type="hidden" />
          <input name="no_shipping" value="1" type="hidden" />
          <input name="return" value="index.html" type="hidden" />
          <input name="cancel_return" value="index.html" type="hidden" />
          <input name="no_note" value="0" type="hidden" />
          <input name="cn" value="Send flatcap a message:" type="hidden" />
          <input name="cs" value="0" type="hidden" />
          <input name="currency_code" value="GBP" type="hidden" />
          <input src="style/beer.png" name="submit" alt="Make a donation" type="image" />
          </form>
          </td>
          <td align="left">
          If&nbsp;you&nbsp;would&nbsp;like&nbsp;to&nbsp;show&nbsp;your<br />
          appreciation,&nbsp;buy&nbsp;FlatCap&nbsp;a&nbsp;beer.
          </td>
          <td width="110">
          <form action="https://www.paypal.com/cgi-bin/webscr" method="post">
          <input name="cmd" value="_xclick" type="hidden" />
          <input name="business" value="paypal@flatcap.org" type="hidden" />
          <input name="item_name" value="Beer (in recognition of the NTFS RPM)" type="hidden" />
          <input name="image_url" value="http://flatcap.org/flatcap.png" type="hidden" />
          <input name="no_shipping" value="1" type="hidden" />
          <input name="return" value="index.html" type="hidden" />
          <input name="cancel_return" value="index.html" type="hidden" />
          <input name="no_note" value="0" type="hidden" />
          <input name="cn" value="Send flatcap a message:" type="hidden" />
          <input name="cs" value="0" type="hidden" />
          <input name="currency_code" value="GBP" type="hidden" />
          <input src="style/donate.png" name="submit" alt="Make a donation" type="image" />
          </form>
          </td>
          </tr>
          </tbody></table>
        </td>
      </tr>
      <tr>
        <td class="block" valign="top" width="1%">
          <h3><a class="heading" href="../index.html">Linux-NTFS Project</a></h3>
          <br />
          <h3><a class="heading" href="index.html">Info</a></h3>
          <ul>
            <li><a class="quiet" href="index.html">News</a></li>
            <li><a class="quiet" href="about.html">About</a></li>
            <li><a class="quiet" href="instructions.html">Instructions</a></li>
            <li><a class="quiet" href="rel24.html">Release&nbsp;Notes&nbsp;2.4</a></li>
            <li><a class="quiet" href="rel26.html">Release&nbsp;Notes&nbsp;2.6</a></li>
            <li><a class="quiet" href="help.html">Help</a></li>
            <li><a class="quiet" href="build.html">Build&nbsp;Your&nbsp;Own</a></li>
            <li><a class="quiet" href="contact.html">Contact&nbsp;the&nbsp;Maintainer</a></li>
          </ul>

          <h3><a class="heading" href="downloads.html">Downloads</a></h3>
          <ul>
            <li><a class="quiet" href="fedora4.html">Fedora&nbsp;4</a></li>
            <li><a class="quiet" href="fedora3.html">Fedora&nbsp;3</a></li>
            <li><a class="quiet" href="fedora2.html">Fedora&nbsp;2</a></li>
            <li><a class="quiet" href="fedora1.html">Fedora&nbsp;1</a></li>
            <li><a class="quiet" href="rhel4.html">RHEL&nbsp;4</a></li>
            <li><a class="quiet" href="rhel3.html">RHEL&nbsp;3</a></li>
            <li><a class="quiet" href="redhat9.html">RedHat&nbsp;9</a></li>
            <li><a class="quiet" href="redhat8.html">RedHat&nbsp;8</a></li>
            <li><a class="quiet" href="redhat7.html">RedHat&nbsp;7</a></li>
            <li><a class="quiet" href="rpmsrc.html">Source&nbsp;Code</a></li>
            <li><a class="quiet" href="contrib.html">Contrib</a></li>
          </ul>

          <br />
          <br />
          <br />
          <br />
          <br />
          <br />
          <br />
          <br />
        </td>
        <td class="block" valign="top">
          <h3>Instructions</h3>

          <a name="key"></a>
          <h4>Key</h4>
          <p>
          In the following instructions, the following notation is used:
          </p>

          <p style="margin-left: 2em; margin-bottom: 0px;">
          <img src="style/red.png" alt="NB" width="16" height="16" />&nbsp;-&nbsp;Note carefully
          </p>

          <div style="background-color: #DDD; color: #000; border: 1px solid black;
          margin-left: 2em; max-width: 250px;">&nbsp;<b>Commands</b> or output</div>

          <a name="which"></a>
          <h4>Which RPM</h4>
          <p>
          It is important to install exactly the same version of NTFS kernel
          module as the kernel you have installed.  Below are some simple
          instructions to help you find the file you need.
          </p>

          <p>
          A quick way to find the version is to use the
          <a href="whichrpm">whichrpm script</a>.  Save the file and run it.
          Then go to the <a href="instructions.html#install">install section</a>.
          </p>

          <pre class="command">    <b>chmod 700 whichrpm</b>
    <b>./whichrpm</b>
          </pre>

          <p>
          The script, above, just automates what we will do next.  First we need
          to decide which release you have.  Run this command:
          </p>

          <pre class="command">    <b>cat /etc/redhat-release</b>
          </pre>

          <p>
          and you will probably see <b>one</b> of the following responses:

          </p><pre class="command">    Fedora Core release 1 (Yarrow)
    Fedora Core release 2 (Tettnang)
    Fedora Core release 3 (Heidelberg)
    Fedora Core release 4 (Stentz)
    Red Hat Linux release 9 (Shrike)
    Red Hat Linux release 8.0 (Psyche)
          </pre>

          <p>
          Next find out your kernel version:
          </p>

          <pre class="command">    <b>uname -r</b>
          </pre>

          <p>
          You should see a response something <b>like</b> one of these:
          </p>

          <pre class="command">          2.4.18-3
          2.4.18-17.7.x
          2.4.22-1.2115.nptl
          2.6.8-1.521
          </pre>

          <p>
          The version might also have one of the following suffixes:
          </p>

          <pre class="command">          smp
          bigmem
          hugemem
          BOOT
          </pre>

          <p>
          <img src="style/red.png" alt="NB" width="16" height="16" />
          If the result ends with <q>smp</q> then you have a multi-processor computer
          (you probably already knew that).
          </p>

          <p>
          Next find out what sort of processor you have.  This command will ask which
          kernel rpm was installed for you.
          </p>

          <p>
          <img src="style/red.png" alt="NB" width="16" height="16" />
          If your version number had a suffix, then use it here, e.g.  replace
          <q>kernel</q> with <q>kernel-smp</q>, or <q>kernel-bigmem</q>.
          </p>

          <pre class="command">    <b>rpm -q --queryformat "%{ARCH}\n" kernel</b>
          </pre>

          <p>
          Most people will have an <q>i686</q> processor (a recent Pentium computer).
          Other options are <q>athlon</q>, <q>i586</q> or <q>i386</q>.
          </p>

          <p>
          Next download the RPM.  Follow the links for
          </p><ul>
          <li><a href="fedora4.html">Fedora&nbsp;4&nbsp;(Stentz)</a></li>
          <li><a href="fedora3.html">Fedora&nbsp;3&nbsp;(Heidelberg)</a></li>
          <li><a href="fedora2.html">Fedora&nbsp;2&nbsp;(Tettnang)</a></li>
          <li><a href="fedora1.html">Fedora&nbsp;1&nbsp;(Yarrow)</a></li>
          <li><a href="rhel4.html">RedHat&nbsp;Enterprise&nbsp;4&nbsp;(Nahant)</a></li>
          <li><a href="rhel3.html">RedHat&nbsp;Enterprise&nbsp;3&nbsp;(Taroon)</a></li>
          <li><a href="redhat9.html">RedHat&nbsp;9&nbsp;(Shrike)</a></li>
          <li><a href="redhat8.html">RedHat&nbsp;8.0&nbsp;(Psyche)</a></li>
          <li><a href="redhat7.html">RedHat&nbsp;7.3&nbsp;(Valhalla)</a></li>
          </ul>
          <p></p>

          <p>
          When you have downloaded the RPM, we will continue with the
          installation instructions.
          </p>

          <a name="install"></a>
          <h4>Install</h4>
          <p>
          You must be <b>root</b> for the rest of the commands.  The examples will
          continue as if you downloaded <b>kernel-ntfs-2.4.18-14.i686.rpm</b>.
          </p>

          <p>
          <img src="style/red.png" alt="NB" width="16" height="16" />
          Newer NTFS RPMs have names like kernel-module-ntfs-2.6.8-1.541-2.1.17-0.fc.1.2.i586.rpm
          </p>

          <p>
          Next install the rpm:
          </p>

          <pre class="command">    <b>rpm -ihv kernel-ntfs-2.4.18-14.i686.rpm</b>

    Preparing...      ############################### [100%]
       1:kernel-ntfs  ############################### [100%]
          </pre>

          <p>
          There should be no errors, just #'s.  Note: newer NTFS RPMs will also
          print a message telling you if install succeeded.  If something goes
          wrong see the <a href="help.html">Help Section</a>.
          </p>

          <p>
          This is the only command we actually needed, but we'll go on and test what
          we have done.
          </p>

          <p>
          Next load the kernel module
          </p>

          <pre class="command">    <b>/sbin/modprobe ntfs</b>
          </pre>

          <p>
          There should be no output.  If there are a lot of error messages see the
          <a href="help.html#unres">Help Section</a>.
          </p>

          <p>
          The next command, <q>dmesg</q> prints the kernel logs.  We search them
          for <q>NTFS</q> using <q>grep</q>.
          </p>

          <pre class="command">    <b>dmesg | grep NTFS</b>

    NTFS driver v1.1.22 [Flags: R/O MODULE]
          </pre>

          <p>
          We can now check that the kernel <b>really</b> understands NTFS.  The output
          may vary slightly, but you are looking for the entry <q>ntfs</q>.
          </p>

          <pre class="command">    <b>cat /proc/filesystems</b>

    nodev   rootfs
    nodev   bdev
    nodev   proc
    nodev   sockfs
    nodev   tmpfs
    nodev   shm
    nodev   pipefs
            ext3
            ext2
    nodev   ramfs
    nodev   devpts
            ntfs
          </pre>

          <a name="mount"></a>
          <h4>Mount</h4>
          <p>
          Mounting an NTFS Volume is covered in more detail in
          <a href="../info/ntfs.html#4.0">Section 4 of the FAQ</a>.
          </p>

          <p>
          First you need to know which device your NTFS Volume is on and you
          need to create a directory as a mount point.
          </p>

          <pre class="command">    <b>/sbin/fdisk -l</b>
          </pre>

          <p>
          The output might look like:
          </p>

          <pre class="command">    Disk /dev/hda: 64 heads, 63 sectors, 4465 cylinders
    Units = cylinders of 4032 * 512 bytes

       Device Boot    Start       End    Blocks   Id  System
       /dev/hda1             1      2125   4283968+  07  NTFS/HPFS
       /dev/hda2          2126     19851  35735616   0f  Win95 Ext'd (LBA)
       /dev/hda5   *      2126      4209   4201312+  83  Linux
       /dev/hda6          4210      4465    516064+  82  Linux swap
          </pre>

          <pre class="command">    <b>mkdir /mnt/windows</b>
    <b>mount /dev/hda1 /mnt/windows -t ntfs -r -o umask=0222</b>
    <b>ls -l /mnt/windows</b>

    ...
    -r-xr--r-- 1 root root  9719 Aug 24 1996 ansi.sys
    -r-xr--r-- 1 root root 15252 Aug 24 1996 attrib.exe
    -r-xr--r-- 1 root root 28096 Aug 24 1996 chkdsk.exe
    -r-xr--r-- 1 root root  5175 Aug 24 1996 choice.com
    ...
          </pre>

          <p>
          Hopefully everything is working for you now.
          </p>

          <p>
          <img src="style/red.png" alt="NB" width="16" height="16" />
          Now, please read the
          <a href="../info/ntfs.html">NTFS FAQ (Frequently Asked Questions)</a>, especially
          if you want to know:
          </p>

          <ul>
          <li><a href="../info/ntfs.html#4.9">How to change the owner or permissions of the mounted partition</a></li>
          <li><a href="../info/ntfs.html#4.10">How to have Linux mount the partition automatically at boot time</a></li>
          </ul>

          <a name="uninstall"></a>
          <h4>Uninstall</h4>

          <p>
          If you wish to remove the NTFS RPM, first list all the RPMs with
          <q>ntfs</q> in their name.  You output might look something like this:
          </p>

          <pre class="command">    <b>rpm -qa | grep -i ntfs</b>

    kernel-module-ntfs-2.6.9-1.667smp-2.1.20-0.fc.1.2
          </pre>

          <p>
          Then, cut and paste the name into the rpm <q>erase</q> command:
          </p>

          <pre class="command">    <b>rpm -e kernel-module-ntfs-2.6.9-1.667smp-2.1.20-0.fc.1.2</b>
          </pre>

        </td>
      </tr>
    </tbody></table>
    <table summary="" border="0" cellspacing="0" width="100%">
      <tbody><tr>
        <td width="99%"><a class="contact" href="contact.html">Copyright &copy; 2002-2004 FlatCap (Richard Russon)</a></td>
      </tr>
    </tbody></table>

</body></html>
